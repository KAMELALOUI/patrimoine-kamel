# Configuration Eureka
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false

# Configuration du serveur
server.port=8222
spring.application.name=gateway

# Configuration Spring Cloud Gateway
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# Configuration des routes
spring.cloud.gateway.routes[0].id=auth-service
spring.cloud.gateway.routes[0].uri=http://auth-service:8088
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/auth/**

spring.cloud.gateway.routes[1].id=articles-service
spring.cloud.gateway.routes[1].uri=http://articles-service:8084
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/articles/**

spring.cloud.gateway.routes[2].id=media-service
spring.cloud.gateway.routes[2].uri=http://media-service:8086
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/media/**

spring.cloud.gateway.routes[3].id=mapping-service
spring.cloud.gateway.routes[3].uri=http://mapping-service:8087
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/heritage/**

spring.cloud.gateway.routes[4].id=site-service
spring.cloud.gateway.routes[4].uri=http://site-service:8085
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/sites/**

# Configuration CORS avancée
spring.webflux.cors.allowed-origins=http://51.20.60.69:4200,http://localhost:4200
spring.webflux.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.webflux.cors.allowed-headers=*
spring.webflux.cors.allow-credentials=true
spring.webflux.cors.max-age=3600

# Configuration supplémentaire
spring.cloud.gateway.httpclient.connect-timeout=1000
spring.cloud.gateway.httpclient.response-timeout=5000

# Désactivation de la journalisation sensible
logging.level.root=INFO
logging.level.org.springframework.cloud.gateway=DEBUG
